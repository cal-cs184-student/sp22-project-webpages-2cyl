<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		:root {
			--bgcolor: #233c4c;
			--fgcolor: #7fdda9;
			--highlight: #eb8edd;
			font-family: 'Roboto Mono';
			font-weight: 300;
			-webkit-print-color-adjust: exact;
		}

		body {
			padding: 60px;
			width: 800px;
			margin: auto;
			text-align: left;
			font-size: small;
			/* font-family: 'Roboto Mono'; */
			color: var(--fgcolor);
			background-color: var(--bgcolor);
			text-align: justify;
			text-justify: inter-word;

		}

		button {
			background-color: var(--fgcolor);
			border: none;
			font-weight: bold;
			text-decoration: none;
			color: var(--bgcolor);
			padding: 5px 10px;
			margin: 2px 2px;
			cursor: pointer;
		}

		h1 {
			font-size: x-large;
		}

		h2 {
			font-size: large;
			color: var(--highlight);
		}

		h3 {
			font-size: medium;
			color: var(--highlight);
		}

		h4,
		figcaption {
			font-size: small;
		}

		code {
			font-size: medium;
			display: inline-block;
			background: #2e2a3a;
		}

		a {
			color: var(--fgcolor);
		}

		/* width */
		::-webkit-scrollbar {
			width: 8px;
		}

		/* Track */
		::-webkit-scrollbar-track {
			background: var(--fgcolor);
		}

		/* Handle */
		::-webkit-scrollbar-thumb {
			background: var(--bgcolor);
		}

		/* Handle on hover */
		::-webkit-scrollbar-thumb:hover {
			background: var(--bgcolor);
		}

		::selection {
			color: var(--highlight);
			background: var(--highlight);
		}
	</style>
	<div align="middle">
		<a href="../proj1/index.html"><button>P1</button></a>
		<a href="../proj2/index.html"><button>P2</button></a>
		<a href="../proj3-1/index.html"><button>P3-1</button></a>
		<a href="../proj3-2/index.html"><button>P3-2</button></a>
		<a href="../proj4/index.html"><button>P4</button></a>
		<a href="../projfinal/index.html"><button>PF</button></a>
	</div>
	<br>
	<title>CS 184 Cloth Sim: Clare Lin, Faywer Liu</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">

	<!-- mathjax -->
	<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>


<body>

	<h1 align="middle">CS 184: Computer Graphics and Imaging [SP22]</h1>
	<h1 align="middle">Project 4: Cloth Sim</h1>
	<h2 align="middle">Clare Lin, Faywer Liu</h2>
	<div align="middle">
		<br><br><img src="images/sphere_collide_banner.png" width="800px" class="center">
	</div>
	<div>

		<br><br>
		<h2 align="middle">Overview</h2>
		<p> Sim the cloth
		</p>
	</div>

	<div>
		<br><br>
		<h3 align="middle">Masses and Springs</h3>

		<p>
			In this project, we extended our ray tracer by adding support for reflection and refraction. This allows us
			to
			render material such as glass.
			We also implemented depth of field by simulating a thin lens.</p>


	<div align="middle">
		<table style="width=100%">
		  <tbody>
			<tr>
			  <td>
				<img src="images/task1-noshear.png" align="middle" width="400px">
				<figcaption align="middle">cloth wireframe without any shearing constraints</figcaption>
			  </td>
			  <td>
				<img src="images/task1-onlyshear.png" align="middle" width="400px">
				<figcaption align="middle">cloth wireframe with only shearing constraints</figcaption>
			  </td>
			</tr>
		  </tbody>
		</table>
	  </div>

	  <div align="middle">
		<img src="images/task1-allconstraint.png" align="middle" width="400px">
		<figcaption align="middle">cloth wireframe with all constraints</figcaption>
	</div>

	<div align>
		<br><br>
		<h3 align="middle">Simulation via numerical integration</h3>
		<p>
			In this part, we have to figure out how our cloth's point masses move from one time step to another. We first compute the total force acting upon 
			each point mass (extern forces and spring correct forces). Then we can estimate the new point mass positions using Verlet integration. We also implement a
			heuristic such that the spring length is at most 10% greater than it's rest_length.
		</p>

		<p>
			Changing ks seems to change the elasticity of the cloth. The cloth with a low ks is very
			stretchy. Compared to the default settings, the cloth is droopy and the center of the cloth is lower at a resting state.
			With a high ks the cloth is much more stiff and compared to the default settings, the cloth is a lot tighter and the center of
			the cloth is higher up. At it's resting state it is wrinkly and has ripples like a sunchip.
		</p>
 
		<div align="middle">
			<table style="width=100%">
			  <tbody>
				<tr>
				  <td>
					<img src="images/task2-low-ks.png" align="middle" width="400px">
					<figcaption align="middle">ks = .1</figcaption>
				  </td>
				  <td>
					<img src="images/task2-high-ks.png" align="middle" width="400px">
					<figcaption align="middle">ks = 99999</figcaption>
				  </td>
				</tr>
			  </tbody>
			</table>
		  </div>

		<p>
			Changing density seems to affect how strong the gravitional forces on the cloth are. With a low density, the cloth is very smooth
			and doesn't sink as much as it does using the default settings. It is also less stretchy. With a high density, the cloth has some wrinkles and is 
			a lot stretchier than default. It also sinks much lower than default.
		</p>

		<div align="middle">
			<table style="width=100%">
			  <tbody>
				<tr>
				  <td>
					<img src="images/task2-low-density.png" align="middle" width="400px">
					<figcaption align="middle">Density = 1</figcaption>
				  </td>
				  <td>
					<img src="images/task2-high-density.png" align="middle" width="400px">
					<figcaption align="middle">Density = 99999</figcaption>
				  </td>
				</tr>
			  </tbody>
			</table>
		  </div>

		<p>
			Changing dampening seems to affect the amount of flucatation and how long it takes for the cloth to come to a resting state. With a low dampening,
			the cloth is very animated and takes longer to come to rest compared to default. With a high dampening, it takes a very short amount of time to come to rest. Changing dampening
			seems to have no effect on how resting states look but has an effect on how long it takes to come to rest.
		</p>

		<div align="middle">
			<table style="width=100%">
			  <tbody>
				<tr>
				  <td>
					<img src="images/task2-low-damp.png" align="middle" width="400px">
					<figcaption align="middle">Dampening about 10%</figcaption>
				  </td>
				  <td>
					<img src="images/task2-high-damp.png" align="middle" width="400px">
					<figcaption align="middle">Dampening about 90%</figcaption>
				  </td>
				</tr>
			  </tbody>
			</table>
		  </div>

		<p>
		</p>
	<div align="middle">
		<img src="images/task2-default.png" align="middle" width="400px">
		<figcaption align="middle">Default settings</figcaption>
	</div>

		<br>
	</div>

	<div>
		<br><br>
		<h3 align="middle">Handling collisions with other objects</h3>

		<p>
			In this part, we handle collisions with spheres and planes. If any point mass is inside the object, we adjust the point mass
			to be outside of the object.
		</p>

		<p>
			To check for sphere collision, we check to see if a point is within the radius of the sphere. If so, we adjust it so it lies outside the sphere.
			To check for plane collision, we check to see if a point mass crosses from one side of the plane to the other in a time step. If so, adjust it so it lies
			on the side it came from.
		</p>

		<p>
			By increasing ks, we increase the "stiffness" of the cloth. We can see that at ks = 500, the cloth is more elastic
			and clings to the sphere. With greater stiffness, the cloth holds its shape better as seen in ks = 5000 and even better in when ks = 50000.
		</p>

		<div align="middle">
			<img src="images/task3-500.png" align="middle" width="500px">
			<figcaption align="middle">ks = 500</figcaption>
		</div>

		<div align="middle">
			<img src="images/task3-5000.png" align="middle" width="500px">
					<figcaption align="middle">ks = 5000</figcaption>
		</div>

		<div align="middle">
			<img src="images/task3-50000.png" align="middle" width="500px">
			<figcaption align="middle">ks = 50000</figcaption>
		</div>


	<div>
		<br><br>
		<h3 align="middle">Handling self-collisions</h3>

		<p>
			In this project, we extended our ray tracer by adding support for reflection and refraction. This allows us
			to
			render material such as glass.
			We also implemented depth of field by simulating a thin lens.</p>
	</div>

	<div>
		<br><br>
		<h3 align="middle">Shaders</h3>

		<p>
			In this project, we extended our ray tracer by adding support for reflection and refraction. This allows us
			to
			render material such as glass.
			We also implemented depth of field by simulating a thin lens.</p>
	</div>

	<div>
		<br><br>
		<h3 align="middle">Extra Credit</h3>

		<p>
			In this project, we extended our ray tracer by adding support for reflection and refraction. This allows us
			to
			render material such as glass.
			We also implemented depth of field by simulating a thin lens.</p>
	</div>


</body>

</html>